{% extends "layout.html" %}

{% block title %}
    Completed Tasks
{% endblock %}

{% block body %}
    <div class = "mb-3">
        <h1>Completed Tasks</h1>
    </div>
    <div class = "mb-3">
        <form action = "/completedTasks" method = "POST">
            {% if completed_tasks %}
                <table class = "table table-stripped" style = "width: 50vw; margin: 0 auto;">
                    <thead>
                        <th scope = "col"><i class = "fa-regular fa-trash-can"></i></th>
                        <th scope = "col">Title</th>
                        <th scope = "col">Created on</th>
                        <th scope = "col">Start date</th>
                        <th scope = "col">End date</th>
                        <th scope = "col">Description</th>
                        <th scope = "col">Status</th>
                    </thead>
                    <tbody>
                        {% for task in completed_tasks %}
                            {% if task["status"] == "Completed" %}
                                <tr>
                                    <td><input class = "form-check-input" id = "{{ task.title }}" type = "checkbox" name = "checkDel" value = "{{ task.id }}"></td>
                                    <td>{{ task["title"] }}</td>
                                    <td>{{ task["dateCreation"] }}</td>
                                    <td>{{ task["dateStart"] }}</td>
                                    <td>{{ task["dateEnd"] }}</td>
                                    <td>{{ task["description"] }}</td>
                                    <td>{{ task["status"] }}</td>
                                </tr>
                            {% endif %}
                        {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <table class = "table table-stripped" style = "width: 50vw; margin: 0 auto;">
                    <thead>
                        <th scope = "col"><i class = "fa-regular fa-trash-can"></i></th>
                        <th scope = "col">Title</th>
                        <th scope = "col">Created on</th>
                        <th scope = "col">Start date</th>
                        <th scope = "col">End date</th>
                        <th scope = "col">Description</th>
                        <th scope = "col">Status</th>
                    </thead>
                    <tbody>
                        <tr>
                            <td><input class = "form-check-input" disabled id = "flexCheckDisabled" type = "checkbox" name = "checkDel" value = "None"></td>
                            <td><label for = "flexCheckDisabled"> -- </label></td>
                            <td><label for = "flexCheckDisabled"> -- </label></td>
                            <td><label for = "flexCheckDisabled"> -- </label></td>
                            <td><label for = "flexCheckDisabled"> -- </label></td>
                            <td><label for = "flexCheckDisabled"> -- </label></td>
                            <td><label for = "flexCheckDisabled"> -- </label></td>
                        </tr>
                    </tbody>
                </table>
            {% endif %}
        </form>
    </div>
{% endblock %}